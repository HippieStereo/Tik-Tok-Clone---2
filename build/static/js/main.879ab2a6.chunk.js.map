{"version":3,"sources":["components/MicroCard.js","components/FollowersColumn.js","components/Card.js","components/MiniCard.js","pages/Home.js","pages/Upload.js","components/Header.js","App.js","index.js"],"names":["MicroCard","user","className","src","avatar","width","username","name","FollowersColumn","topFiveFollowing","users","map","index","Card","toggleFollow","timeStampReformat","timestamp","slice","caption","button_visible","is_followed","onClick","controls","video","type","likes","comments","MiniCard","Home","descendingUsers","topFiveNotFollowing","useState","setUsers","userToToggle","setUserToToggle","addData","a","axios","post","headers","fetchData","get","results","data","put","userId","id","then","json","console","log","catch","err","error","useEffect","Object","values","sort","b","filter","descendingUser","notFollowingUser","Upload","setVideo","setCaption","Date","toISOString","faker","random","uuid","handleSubmit","e","preventDefault","response","onSubmit","onChange","target","value","Header","to","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.879ab2a6.chunk.js","sourcesContent":["import React from 'react';\n\nconst MicroCard = ({ user }) => {\n\n    return (\n        <div className=\"section microcard\">\n            <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n            <div>\n                <h3 className=\"bold\">{user.username}</h3>\n                <p>{user.name}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default MicroCard","import React, {useEffect, useState} from 'react';\nimport MicroCard from \"./MicroCard\";\nimport axios from \"axios\";\n\nconst FollowersColumn = (topFiveFollowing) => {\n\n    let users = topFiveFollowing.users;\n\n    return (\n\n        <div className=\"followers-column\">\n            <div className=\"followers-section\">\n                <div className=\"home\" />\n                <h2 className=\"bold red\">For You</h2>\n            </div>\n            <div className=\"followers-section\">\n                <div className=\"following\" />\n                <h2>Following</h2>\n            </div>\n            <hr />\n                <p>Your top accounts</p>\n                {users && users.map((user, index) => (\n                    <MicroCard\n                        key={index} user={user}\n                    />\n                ))}\n            <hr />\n        </div>\n\n    );\n\n  }\n  \n  export default FollowersColumn;\n  ","import React from 'react'\n\nconst Card = ({ user, toggleFollow }) => {\n\n    const timestamp = user.timestamp;\n    const timeStampReformat = timestamp.slice(2, 7);\n\n    return (\n        <div className=\"card\">\n            <div className=\"break\" />\n            <div className=\"section\">\n                <div className=\"user-info\">\n                    <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n                    <div>\n                        <div className=\"section\">\n                            <h3 className=\"bold\">{user.username}</h3>\n                            <p className=\"username\">{user.name}</p>\n                            <p>{timeStampReformat}</p>\n                        </div>\n                        <p>{user.caption}</p>\n                    </div>\n                </div>\n                {user.button_visible && <div className={\n                    user.is_followed? \"followed-button\" : \"follow-button\"}\n                    onClick={() => toggleFollow(user)}>\n                    {user.is_followed? \"Following\": \"Follow\"}\n                </div>}\n            </div>\n            <video className=\"video\" controls>\n                <source src={user.video} type=\"video/mp4\" />\n            </video>\n            <div className=\"section socials\">\n                <i className=\"far fa-heart\"></i>\n                <div className=\"social-tag\">{user.likes}</div>\n                <i className=\"far fa-comment-dots\"></i>\n                <div className=\"social-tag\">{user.comments}</div>\n                <i className=\"far fa-share-square\"></i>\n            </div>\n        </div>\n    )\n}\n\nexport default Card","import React from 'react'\n\nconst MiniCard = ({ user, toggleFollow }) => {\n    return (\n        <div className=\"section minicard\">\n            <div className=\"section\">\n                <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n                <div>\n                    <h3 className=\"bold\">{user.username}</h3>\n                    <p>{user.name}</p>\n                </div>\n            </div>\n            {user.button_visible && <div className={\n                user.is_followed? \"followed-button\" : \"follow-button\"}\n                onClick={() => toggleFollow(user)}>\n                {user.is_followed? \"Following\": \"Follow\"}\n            </div>}\n        </div>\n    )\n}\n\nexport default MiniCard","import FollowersColumn from \"../components/FollowersColumn\";\nimport axios from \"axios\";\nimport {useEffect, useState} from \"react\";\nimport Card from \"../components/Card\";\nimport MiniCard from \"../components/MiniCard\";\n\nconst Home = () => {\n\n    const [users, setUsers] = useState();\n    const [userToToggle, setUserToToggle] = useState();\n    let descendingUsers;\n    let topFiveFollowing;\n    let topFiveNotFollowing;\n\n    const addData = async () => {\n\n        await axios.post('/.netlify/functions/AddData',\n            {headers: {'Content-Type': 'application/json'}}\n            );\n\n    }\n\n    const fetchData = async () => {\n\n        const results = await axios.get(\n            '/.netlify/functions/Posts',\n            {headers: {'Content-Type': 'application/json'}}\n            );\n\n        setUsers(results.data);\n\n    }\n\n    //toggle user from followed to unfollowed\n    if (userToToggle) {\n        const newValue = userToToggle.is_followed ? false : true\n        const data = {is_followed: newValue}\n\n        axios.put('/.netlify/functions/Edit', {userId: userToToggle.id, data: data })\n            .then(json => console.log(json))\n            .catch(err => console.error('error:' + err))\n            .then(() => fetchData());\n\n        setUserToToggle(null);\n\n        fetchData();\n    }\n\n    useEffect(() => {\n        addData();\n        fetchData();\n    }, []);\n\n    if (users){\n        descendingUsers = Object.values(users[1]).sort((a,b) => a.id < b.id ? 1 : -1);\n\n        const following = Object.values(users[1]).filter(user => user.is_followed);\n        const descendingFollowing = following.sort((a,b) => a.likes < b.likes ? 1 : -1);\n        topFiveFollowing = descendingFollowing.slice(0,5);\n\n        const notFollowing = Object.values(users[1]).filter(user => user.is_followed === false);\n        const descendingNotFollowing = notFollowing.sort((a,b) => a.likes < b.likes ? 1 : -1);\n        topFiveNotFollowing = descendingNotFollowing.slice(0,5);\n    }\n\n    return (\n        <>\n            <div className='container'>\n               <FollowersColumn users={topFiveFollowing}/>\n                {descendingUsers && (\n                   <div className='feed'>\n                       {descendingUsers.map((descendingUser, index) => (\n                           <Card\n                               key={index}\n                               user={descendingUser}\n                               toggleFollow={userToToggle => setUserToToggle(userToToggle)}\n                           />\n                       ))}\n                    </div>\n                )}\n                <div className=\"suggested-box\">\n                    <div className=\"section\">\n                        <div className=\"suggested\">\n                            <h2 className=\"bold\">Suggested accounts</h2>\n                            <div className=\"break\" />\n                            {topFiveNotFollowing && topFiveNotFollowing.map((notFollowingUser, index) => (\n                                <MiniCard\n                                    key={index}\n                                    user={notFollowingUser}\n                                    toggleFollow={userToToggle => setUserToToggle(userToToggle)}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Home;\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport faker from \"faker\"\n\nconst Upload = () => {\n    const username = 'hippie-stereo'\n    const name = 'Hippie Stereo'\n    const avatar = 'https://i.imgur.com/OTUOV1k.jpeg'\n    const [video, setVideo] = useState(null)\n    const [caption, setCaption] = useState(null)\n    const today = new Date()\n    const timestamp = today.toISOString()\n\n    let id = faker.random.uuid();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const data =  {\n            id: id,\n            name: name,\n            username: username,\n            avatar: avatar,\n            is_followed: false,\n            video: video,\n            caption: caption,\n            likes: 0,\n            comments: 0,\n            timestamp: timestamp,\n            button_visible: false\n        };\n\n        axios.post('/.netlify/functions/Add', data)\n            .then((response) => {\n                console.log(response)\n            })\n            .catch((err) => {\n                console.error(err)\n            })\n    }\n\n    return (\n        <div className=\"upload-page\">\n            <br />\n            <h1>Upload video</h1>\n            <p>This video will be published to @{username}</p>\n            <div className='container'>\n                <form onSubmit={handleSubmit}>\n                    <div className='section'>\n                        <div className=\"image-upload\"></div>\n                        <div className=\"form-section\">\n                            <div className='section input-section'>\n                                <label className=\"bold\">Caption</label>\n                                <input\n                                    className='input'\n                                    name='caption'\n                                    onChange={(e) => setCaption(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"break\"></div>\n                            <div className='section input-section'>\n                                <label className=\"bold\">Video Url</label>\n                                <input\n                                    className='input'\n                                    name='video'\n                                    onChange={(e) => setVideo(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <button>Post</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Upload","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Header = () => {\n    return (\n        <div className=\"header\">\n            <Link to='/'>\n                <div className=\"logo\"></div>\n            </Link>\n            <div className=\"upload-container\">\n                <div className=\"section\">\n                    <Link to='/upload'>\n                        <div className=\"upload\" />\n                    </Link>\n                    <img className=\"personal\" src=\"https://i.imgur.com/4ihlJcO.png\" />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Header","import { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport './App.css';\nimport Home from './pages/Home';\nimport Upload from './pages/Upload';\nimport Header from './components/Header';\n\nconst App = () => {\n  return (\n    <Routes>\n      <Route path='/upload' element={<Upload/>}/>\n      <Route path='/' element={<Home/>}/>\n      <Route/>\n    </Routes>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport './App.css';\nimport App from './App';\nimport Header from './components/Header';\n\nReactDOM.render(\n    <Router>\n      <Header />\n      <App />\n    </Router>\n    ,document.getElementById('root')\n);"],"sourceRoot":""}