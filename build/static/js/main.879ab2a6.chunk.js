(this["webpackJsonpstargate-tik-tok"]=this["webpackJsonpstargate-tik-tok"]||[]).push([[0],{14:function(e,s,t){},1550:function(e,s,t){"use strict";t.r(s);var c=t(1),n=t(36),i=t.n(n),a=t(8),r=(t(14),t(2)),l=t(6),o=t.n(l),j=t(9),d=t(5),u=t(0),b=function(e){var s=e.user;return Object(u.jsxs)("div",{className:"section microcard",children:[Object(u.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"bold",children:s.username}),Object(u.jsx)("p",{children:s.name})]})]})},O=t(7),m=t.n(O),h=function(e){var s=e.users;return Object(u.jsxs)("div",{className:"followers-column",children:[Object(u.jsxs)("div",{className:"followers-section",children:[Object(u.jsx)("div",{className:"home"}),Object(u.jsx)("h2",{className:"bold red",children:"For You"})]}),Object(u.jsxs)("div",{className:"followers-section",children:[Object(u.jsx)("div",{className:"following"}),Object(u.jsx)("h2",{children:"Following"})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("p",{children:"Your top accounts"}),s&&s.map((function(e,s){return Object(u.jsx)(b,{user:e},s)})),Object(u.jsx)("hr",{})]})},x=function(e){var s=e.user,t=e.toggleFollow,c=s.timestamp.slice(2,7);return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"break"}),Object(u.jsxs)("div",{className:"section",children:[Object(u.jsxs)("div",{className:"user-info",children:[Object(u.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)("h3",{className:"bold",children:s.username}),Object(u.jsx)("p",{className:"username",children:s.name}),Object(u.jsx)("p",{children:c})]}),Object(u.jsx)("p",{children:s.caption})]})]}),s.button_visible&&Object(u.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]}),Object(u.jsx)("video",{className:"video",controls:!0,children:Object(u.jsx)("source",{src:s.video,type:"video/mp4"})}),Object(u.jsxs)("div",{className:"section socials",children:[Object(u.jsx)("i",{className:"far fa-heart"}),Object(u.jsx)("div",{className:"social-tag",children:s.likes}),Object(u.jsx)("i",{className:"far fa-comment-dots"}),Object(u.jsx)("div",{className:"social-tag",children:s.comments}),Object(u.jsx)("i",{className:"far fa-share-square"})]})]})},f=function(e){var s=e.user,t=e.toggleFollow;return Object(u.jsxs)("div",{className:"section minicard",children:[Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"bold",children:s.username}),Object(u.jsx)("p",{children:s.name})]})]}),s.button_visible&&Object(u.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]})},p=function(){var e,s,t,n=Object(c.useState)(),i=Object(d.a)(n,2),a=i[0],r=i[1],l=Object(c.useState)(),b=Object(d.a)(l,2),O=b[0],p=b[1],v=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/.netlify/functions/AddData",{headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/.netlify/functions/Posts",{headers:{"Content-Type":"application/json"}});case 2:s=e.sent,r(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(O){var g={is_followed:!O.is_followed};m.a.put("/.netlify/functions/Edit",{userId:O.id,data:g}).then((function(e){return console.log(e)})).catch((function(e){return console.error("error:"+e)})).then((function(){return N()})),p(null),N()}(Object(c.useEffect)((function(){v(),N()}),[]),a)&&(e=Object.values(a[1]).sort((function(e,s){return e.id<s.id?1:-1})),s=Object.values(a[1]).filter((function(e){return e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5),t=Object.values(a[1]).filter((function(e){return!1===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(h,{users:s}),e&&Object(u.jsx)("div",{className:"feed",children:e.map((function(e,s){return Object(u.jsx)(x,{user:e,toggleFollow:function(e){return p(e)}},s)}))}),Object(u.jsx)("div",{className:"suggested-box",children:Object(u.jsx)("div",{className:"section",children:Object(u.jsxs)("div",{className:"suggested",children:[Object(u.jsx)("h2",{className:"bold",children:"Suggested accounts"}),Object(u.jsx)("div",{className:"break"}),t&&t.map((function(e,s){return Object(u.jsx)(f,{user:e,toggleFollow:function(e){return p(e)}},s)}))]})})})]})})},v=t(37),N=t.n(v),g=function(){var e="hippie-stereo",s=Object(c.useState)(null),t=Object(d.a)(s,2),n=t[0],i=t[1],a=Object(c.useState)(null),r=Object(d.a)(a,2),l=r[0],b=r[1],O=(new Date).toISOString(),h=N.a.random.uuid(),x=function(){var s=Object(j.a)(o.a.mark((function s(t){var c;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.preventDefault(),c={id:h,name:"Hippie Stereo",username:e,avatar:"https://i.imgur.com/OTUOV1k.jpeg",is_followed:!1,video:n,caption:l,likes:0,comments:0,timestamp:O,button_visible:!1},m.a.post("/.netlify/functions/Add",c).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"upload-page",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:"Upload video"}),Object(u.jsxs)("p",{children:["This video will be published to @",e]}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("form",{onSubmit:x,children:[Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)("div",{className:"image-upload"}),Object(u.jsxs)("div",{className:"form-section",children:[Object(u.jsxs)("div",{className:"section input-section",children:[Object(u.jsx)("label",{className:"bold",children:"Caption"}),Object(u.jsx)("input",{className:"input",name:"caption",onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("div",{className:"break"}),Object(u.jsxs)("div",{className:"section input-section",children:[Object(u.jsx)("label",{className:"bold",children:"Video Url"}),Object(u.jsx)("input",{className:"input",name:"video",onChange:function(e){return i(e.target.value)}})]})]})]}),Object(u.jsx)("button",{children:"Post"})]})})]})},w=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(a.b,{to:"/",children:Object(u.jsx)("div",{className:"logo"})}),Object(u.jsx)("div",{className:"upload-container",children:Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)(a.b,{to:"/upload",children:Object(u.jsx)("div",{className:"upload"})}),Object(u.jsx)("img",{className:"personal",src:"https://i.imgur.com/4ihlJcO.png"})]})})]})},k=function(){return Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{path:"/upload",element:Object(u.jsx)(g,{})}),Object(u.jsx)(r.a,{path:"/",element:Object(u.jsx)(p,{})}),Object(u.jsx)(r.a,{})]})};i.a.render(Object(u.jsxs)(a.a,{children:[Object(u.jsx)(w,{}),Object(u.jsx)(k,{})]}),document.getElementById("root"))}},[[1550,1,2]]]);
//# sourceMappingURL=main.879ab2a6.chunk.js.map